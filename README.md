# Скрипти аналітики Telegram-каналів та публікацій

*updates.py*
Кожну годину (функція get() запускається у циклі на 143-151 рядок коду) скриптом перевіряється наявність нових каналів у базі. Якщо такі були знайдені - юзербот приєднується до каналу (31-36 рядок для публічних каналів, 41-54 рядок для приватних каналів). Після чого юзербот отримує потрібну інформацію про канал та відправляє її у базу даних MongoDB (80-90 рядок):
![image](https://user-images.githubusercontent.com/98265143/185326324-23043912-2acf-4b1e-a909-ff24854aee01.png)
Окрім збереження інформації по каналу, також кожку годину скрипт збирає інформацію по кількості підписників на каналі (111-120 рядок)

*messages.py*
У фоні на сервері запускається скрипт і постійно виконується. 
Разом із ним запукаються декілька юзерботів, які працюють асинхронно (задопомогою asyncio). Кожен юзербот підписується на отримання оновлень із раніше оброблених каналів (з 20 рядка) та нові повідомлення із каналів додає у базу даних. Крім того, якщо у повідомленні є фото або документи, скрипт зберігає їх у папці (рядок 33-44) за умови, що пам'ять медіа не перевищує 2 МБ.
![image](https://user-images.githubusercontent.com/98265143/185331754-530aa8b1-aed1-4c37-8abe-8f922b656a7a.png)
![image](https://user-images.githubusercontent.com/98265143/185330462-d807fc64-91c3-441e-a187-02e755e4bc92.png)
